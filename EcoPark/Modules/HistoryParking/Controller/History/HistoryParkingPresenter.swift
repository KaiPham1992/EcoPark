//
//  HistoryParkingPresenter.swift
//  EcoPark
//
//  Created Steve on 11/1/19.
//  Copyright © 2019 demo. All rights reserved.
//
//  Template generated by Juanpe Catalán @JuanpeCMiOS
//

import UIKit

class HistoryParkingPresenter: HistoryParkingPresenterProtocol, HistoryParkingInteractorOutputProtocol {

    weak private var view: HistoryParkingViewProtocol?
    var interactor: HistoryParkingInteractorInputProtocol?
    private let router: HistoryParkingWireframeProtocol

    init(interface: HistoryParkingViewProtocol, interactor: HistoryParkingInteractorInputProtocol?, router: HistoryParkingWireframeProtocol) {
        self.view = interface
        self.interactor = interactor
        self.router = router
    }
    
    func getDoingBooking() {
        ProgressView.shared.show()
        Provider.shared.parkingAPIService.getDoingBooking(success: { (listDoingBooking) in
            ProgressView.shared.hide()
            self.view?.reloadViewDoingBooking(data: listDoingBooking)
        }) { (_) in
            ProgressView.shared.hide()
        }
    }

    func getHistoryBooking() {
        ProgressView.shared.show()
        Provider.shared.parkingAPIService.getHistoryBooking(success: { (listHistoryBooking) in
            ProgressView.shared.hide()
            self.view?.reloadViewHistoryBooking(data: listHistoryBooking)
        }) { (_) in
            ProgressView.shared.hide()
        }
    }
}
