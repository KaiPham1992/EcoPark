//
//  SignUpPartnerStep3Presenter.swift
//  EnglishApp
//
//  Created Tu DV on 10/31/19.
//  Copyright © 2019 demo. All rights reserved.
//
//  Template generated by Juanpe Catalán @JuanpeCMiOS
//

import UIKit

class SignUpPartnerStep3Presenter: SignUpPartnerStep3PresenterProtocol, SignUpPartnerStep3InteractorOutputProtocol {
    

    weak private var view: SignUpPartnerStep3ViewProtocol?
    var interactor: SignUpPartnerStep3InteractorInputProtocol?
    private let router: SignUpPartnerStep3WireframeProtocol

    init(interface: SignUpPartnerStep3ViewProtocol, interactor: SignUpPartnerStep3InteractorInputProtocol?, router: SignUpPartnerStep3WireframeProtocol) {
        self.view = interface
        self.interactor = interactor
        self.router = router
    }
    
    
    func bossRegister(param: BossRegisterParam) {
        ProgressView.shared.showProgressOnWindow()
        Provider.shared.parkingAPIService.bossRegister(param: param, success: { (parkingInfo) in
            ProgressView.shared.hide()
            
            self.view?.didBossRegister(parkingInfo: parkingInfo)
        }) { (error) in
            ProgressView.shared.hide()
        }
    }
    
    func uploadImage(image: UIImage) {
        ProgressView.shared.showProgressOnWindow()
        Provider.shared.commonAPIService.uploadImage(image: image, success: { (photo) in
            ProgressView.shared.hide()
            self.view?.didUploadImage(photo: photo)
        }) { (error) in
            ProgressView.shared.hide()
        }
    }
    
    func getListMaterial() {
        ProgressView.shared.showProgressOnWindow()
        Provider.shared.parkingAPIService.getMaterial(success: { (listMaterial) in
            ProgressView.shared.hide()
            self.view?.didGetListMaterial(listMaterial: listMaterial)
        }) { (_) in
            ProgressView.shared.hide()
        }
    }
}
